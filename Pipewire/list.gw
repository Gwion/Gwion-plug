#import Pipewire
#import Modules

new SinOsc ~> dac;
#!10::second => now;
#!1::second => now;
Pipewire.list(Pipewire.Type.INPUT) :=> const auto ins;
foreach(in : ins)
  <<< in >>>;
<<< "" >>>;
#!second => now;
Pipewire.list(Pipewire.Type.OUTPUT) :=> const auto outs;
foreach(out : outs)
  <<< "out: ${out}" >>>;

#!Pipewire.link(ins[0], outs[0]);
Pipewire.link("Gwion:output0", ins[3]);
#!foreach(port : Pipewire.list(Pipewire.Type.PORTS))
#!  <<< port >>>;
#!10::second => now;
#!while(true);

